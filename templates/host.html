<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Host ‚Ä¢ Memory Match</title>
  <link rel="stylesheet" href="/static/styles.css">
</head>
<body>
  <div class="wrap">
    <h1>üéõÔ∏è Host Dashboard</h1>
    <p class="muted">Create a lobby, then share the join code with your chat.</p>

    <div class="card">
      <div class="row">
        <label>Host Key</label>
        <input id="hostKey" placeholder="Enter host key" />
      </div>

      <div class="row">
        <label>Mode</label>
        <select id="mode">
          <option value="solo" selected>Solo</option>
          <option value="teams">Teams</option>
        </select>
      </div>

      <div class="row" id="teamNote" style="display:none;">
        <label></label>
        <div class="tiny muted">Teams: players can optionally enter a team name when joining.</div>
      </div>

      <div class="row">
        <label>Board</label>
        <select id="boardPreset">
          <option value="6x4" selected>6√ó4 (recommended mobile)</option>
          <option value="4x4">4√ó4 (quick)</option>
          <option value="5x4">5√ó4 (balanced)</option>
          <option value="6x5">6√ó5 (bigger)</option>
          <option value="6x6">6√ó6 (standard)</option>
        </select>
      </div>

      <div class="row">
        <label>Entry</label>
        <select id="entry">
          <option value="free" selected>Free</option>
          <option value="ticket">Ticket</option>
        </select>
      </div>

      <button class="btn" id="createLobbyBtn">Create Lobby</button>

      <p class="tiny muted" style="margin-top:10px;">
        Bookmark your secret host link so your key auto-fills.
      </p>
      <p class="tiny muted">
        Tip: For paid entry, keep rules public: skill-based scoring, no random prize selection.
      </p>
    </div>

    <!-- Lobby Panel -->
    <div class="card" id="lobbyPanel" style="display:none;">
      <h2>Lobby</h2>

      <div class="row">
        <label>Code</label>
        <div>
          <span class="pill" id="codePill">‚Äî</span>
        </div>
      </div>

      <div class="hr"></div>

      <div class="grid2">
        <div>
          <div class="tiny muted">Join link:</div>
          <div class="row">
            <input id="joinLink" readonly />
            <button class="btn outline" id="copyJoinBtn">Copy</button>
          </div>

          <div class="tiny muted">Player view:</div>
          <div class="row">
            <input id="playLink" readonly />
            <button class="btn outline" id="copyPlayBtn">Copy</button>
          </div>

          <div class="tiny muted">Spectator link:</div>
          <div class="row">
            <input id="watchLink" readonly />
            <button class="btn outline" id="copyWatchBtn">Copy</button>
          </div>

          <!-- ‚úÖ NEW: Overlay link -->
          <div class="tiny muted">Stream Overlay (transparent):</div>
          <div class="row">
            <input id="overlayLink" readonly />
            <button class="btn outline" id="copyOverlayBtn">Copy Overlay Link</button>
          </div>

          <p class="tiny muted" style="margin-top:6px;">
            Overlay is leaderboard-only (no spoilers). Use it as a browser source in OBS or just screen-share it.
          </p>
        </div>

        <div>
          <div class="tiny muted">Round Controls</div>
          <div class="row">
            <button class="btn" id="startBtn">Start Round</button>
            <button class="btn outline" id="endBtn">End Round</button>
          </div>
          <div class="row">
            <button class="btn outline" id="resetBtn">Next Round (new board)</button>
          </div>

          <div class="hr"></div>

          <div class="tiny muted">Prizes (optional)</div>
          <div class="row">
            <label>1st</label>
            <input id="p1" placeholder="Prize for 1st" />
          </div>
          <div class="row">
            <label>2nd</label>
            <input id="p2" placeholder="Prize for 2nd" />
          </div>
          <div class="row">
            <label>3rd</label>
            <input id="p3" placeholder="Prize for 3rd" />
          </div>
          <div class="row">
            <button class="btn outline" id="savePrizesBtn">Save Prizes</button>
          </div>
        </div>
      </div>

      <div class="hr"></div>

      <h3>Chat Blurb</h3>
      <textarea id="chatBlurb" rows="6" readonly></textarea>

      <div class="row">
        <button class="btn" id="copyBlurbBtn">üìã Copy Chat Blurb</button>
        <button class="btn outline" id="shortenBlurbBtn">Make it shorter</button>
      </div>

      <div class="hr"></div>

      <div class="row" style="justify-content:space-between;">
        <h3 style="margin:0;">Players</h3>
        <span class="pill" id="playerCountPill">Players: 0/10</span>
      </div>

      <div id="playersBox" class="tiny muted">No players yet.</div>

      <div class="hr"></div>

      <h3>Winners</h3>
      <div class="tiny muted">End the round to freeze results, then copy winners for your notes.</div>
      <div class="row">
        <button class="btn outline" id="copyWinnersBtn">üèÜ Copy Winners</button>
      </div>
      <textarea id="winnersText" rows="4" readonly class="tiny" style="width:100%;"></textarea>
    </div>
  </div>

  <script src="/static/host.js"></script>
</body>
</html>
