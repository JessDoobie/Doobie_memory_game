<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Watch â€¢ {{ code }}</title>
  <link rel="stylesheet" href="/static/styles.css">

  <style>
    /* Bigger, overlay-friendly */
    .overlayWrap{ max-width: 900px; margin: 0 auto; padding: 14px; }
    .bigTitle{ font-size: 28px; margin: 0 0 6px 0; }
    .sub{ font-size: 14px; color: #9aa3c7; margin: 0 0 10px 0; }
    .pillRow{ display:flex; gap:10px; flex-wrap:wrap; align-items:center; margin: 10px 0; }
    .tbl{ font-size: 16px; }
    .tbl th{ font-size: 14px; }

    /* Overlay mode: transparent page, only card shows */
    body.overlayMode{
      background: transparent !important;
    }
    body.overlayMode .overlayWrap{
      max-width: 720px;
    }
    body.overlayMode .bigTitle,
    body.overlayMode .sub{
      display: none; /* cleaner for streams */
    }

    /* Tiny hint for you (not shown in overlay mode) */
    .modeNote{
      margin-top: 10px;
      font-size: 12px;
      color: #9aa3c7;
    }

    @media (max-width:520px){
      .tbl{ font-size: 14px; }
    }

    /* =========================
       PLAYER GRID LAYOUT (NEW)
       ========================= */

    /* Container holding ALL player mini boards */
    #lb {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
      gap: 16px;
      margin-top: 16px;
    }

    /* Each player card */
    #lb .card {
      padding: 12px;
    }

  </style>
</head>

<body>
  <div class="overlayWrap">
    <h1 class="bigTitle">ðŸ“º Live Leaderboard</h1>
    <p class="sub">Lobby: <b id="codeTxt">{{ code }}</b> â€¢ Updates automatically</p>

    <div class="card">
      

      <div class="hr"></div>

      <div id="teamsBox" style="display:none"></div>

      <!-- THIS IS THE GRID CONTAINER -->
      <div id="lb"></div>

      <p class="tiny muted" id="hint" style="margin-top:10px;"></p>
    </div>

    <div class="modeNote" id="modeNote"></div>
  </div>

  <script>
    window.MM_WATCH_CODE = "{{ code }}";
    window.MM_OVERLAY = new URLSearchParams(window.location.search).get("overlay") === "1";
    if(window.MM_OVERLAY){
      document.body.classList.add("overlayMode");
    }
  </script>

  <script src="/static/watch.js"></script>
</body>
</html>
